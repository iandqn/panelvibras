<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="facebook-domain-verification" content="c0z3wj7tx21utk9ui397udyqrzedrb" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-L7GCBT76BZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-L7GCBT76BZ');
    </script>
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '567660276401151'); // Tu Pixel ID 1
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=567660276401151&ev=PageView&noscript=1"
    /></noscript>
    <script>
      // Este script existente se va a MODIFICAR para incluir Firebase y prevenir la redirección
      document.addEventListener('DOMContentLoaded', function() {
        // La lógica de los botones se moverá a nuestra función principal inicializarLanding
      });
    </script>
<script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '999169384839104'); // Tu Pixel ID 2
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=999169384839104&ev=PageView&noscript=1"
    /></noscript>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Envíenos mensaje | Juega con Confianza</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        :root {
            --dark-bg: #1E272C;
            --whatsapp-green: #25D366;
            --whatsapp-green-lighter: #128C7E;
            --text-light: #FFFFFF;
            --text-dark: #333333;
            --border-color-dark: #3B4A50;
            --button-hover-green: #15803d;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--dark-bg);
            color: var(--text-light);
            line-height: 1.6;
            scroll-behavior: smooth;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            box-sizing: border-box;
        }

        .fixed-header {
            background-color: var(--dark-bg);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            width: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            border-bottom: 2px solid var(--whatsapp-green);
        }

        .fixed-header .logo {
            font-size: 1.5em;
            font-weight: 700;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .fixed-header .whatsapp-button-small-fixed {
            background-color: var(--whatsapp-green);
            color: var(--text-light);
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.9em;
            font-weight: 600;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .fixed-header .whatsapp-button-small-fixed:hover {
            background-color: var(--button-hover-green);
            transform: translateY(-2px);
        }

        main {
            padding-top: 80px;
        }

        .hero-cta-section {
            background: linear-gradient(135deg, var(--dark-bg) 0%, #15202B 100%);
            padding: 80px 0;
            text-align: center;
            color: var(--text-light);
            animation: fadeIn 1s ease-out;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2);
            border-bottom: 3px solid var(--whatsapp-green);
        }

        .hero-cta-section h1 {
            font-size: 3.5em;
            margin-bottom: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--whatsapp-green);
        }

        .hero-cta-section p {
            font-size: 1.5em;
            margin-top: 0;
            font-weight: 400;
            margin-bottom: 40px;
        }

        .whatsapp-button { /* Estilo para el botón grande */
            display: inline-block;
            background-color: var(--whatsapp-green);
            color: var(--text-light);
            padding: 18px 40px;
            border-radius: 10px;
            text-decoration: none;
            font-size: 1.8em;
            font-weight: 700;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 6px 12px rgba(37, 211, 102, 0.5);
            text-transform: uppercase;
            animation: pulse 2s infinite;
        }

        .whatsapp-button:hover {
            background-color: var(--button-hover-green);
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 16px rgba(37, 211, 102, 0.6);
            animation: none;
        }

        .whatsapp-button i {
            margin-right: 10px;
        }
        .whatsapp-cta-button { /* Clase base para todos los botones que se gestionarán */
            /* Por defecto, los hacemos no clicables hasta que el JS los inicialice */
            pointer-events: none; 
            opacity: 0.7; /* Ligeramente atenuados visualmente al inicio */
            cursor: default;
        }
        .whatsapp-cta-button.is-ready { /* Clase que JS añadirá cuando el botón esté listo */
            pointer-events: auto;
            opacity: 1;
            cursor: pointer;
        }


        .section {
            padding: 60px 0;
            text-align: center;
            border-bottom: 1px solid var(--border-color-dark);
            background-color: var(--dark-bg);
            animation: fadeIn 1s ease-out;
            animation-timeline: view();
            animation-range: entry 0% cover 30%;
        }
        .section:last-of-type {
            border-bottom: none;
        }

        .section h2 {
            font-size: 2.5em;
            color: var(--whatsapp-green);
            margin-bottom: 40px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .benefits-grid {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 30px;
            margin-top: 30px;
        }

        .benefit-item {
            background-color: #263238;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            flex: 1;
            min-width: 250px;
            max-width: 30%;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.3s ease;
            color: var(--text-light);
        }

        .benefit-item:hover {
            transform: translateY(-5px);
        }

        .benefit-item i {
            font-size: 2.5em;
            color: var(--whatsapp-green);
            margin-bottom: 10px;
        }

        .benefit-item h3 {
            font-size: 1.3em;
            color: var(--whatsapp-green);
            margin-bottom: 8px;
        }

        .benefit-item p {
            font-size: 0.95em;
            text-align: center;
        }

        .testimonials .data-point {
            background-color: #263238;
            padding: 25px 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            margin-bottom: 25px;
            color: var(--text-light);
        }

        .testimonials .data-point h3 {
            font-size: 2.5em;
            color: var(--whatsapp-green);
            margin-bottom: 8px;
        }

        .testimonials .data-point p {
            font-size: 1em;
            margin-top: 0;
        }

        .testimonials .data-point .trustpilot-rating {
            font-size: 1.3em;
        }

        .testimonials .data-point .trustpilot-rating .fa-star {
            color: gold;
        }
        
        .promotions .promo-item {
            background-color: #263238;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            max-width: 500px;
            margin: 0 auto;
            text-align: center;
            transition: transform 0.3s ease;
            color: var(--text-light);
        }
        
        .promotions .promo-item:hover {
            transform: translateY(-5px);
        }

        .promotions .promo-item h3 {
            font-size: 2em;
            color: var(--whatsapp-green);
            margin-bottom: 15px;
            font-weight: 600;
        }

        .promotions .promo-item p {
            font-size: 1.1em;
            margin-bottom: 25px;
        }

        .promotions .promo-item .whatsapp-button-small {
            background-color: var(--whatsapp-green);
            color: var(--text-light);
            padding: 12px 25px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 1.1em;
            font-weight: 600;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .promotions .promo-item .whatsapp-button-small:hover {
            background-color: var(--button-hover-green);
            transform: translateY(-2px);
        }

        footer {
            background-color: var(--dark-bg);
            color: var(--text-light);
            text-align: center;
            padding: 30px 20px;
            font-size: 0.9em;
            margin-top: 50px;
            border-top: 2px solid var(--whatsapp-green);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 6px 12px rgba(37, 211, 102, 0.5); }
            50% { transform: scale(1.05); box-shadow: 0 8px 16px rgba(37, 211, 102, 0.6); }
            100% { transform: scale(1); box-shadow: 0 6px 12px rgba(37, 211, 102, 0.5); }
        }

        @media (max-width: 768px) {
            .fixed-header .logo { font-size: 1.2em; }
            .fixed-header .whatsapp-button-small-fixed { padding: 8px 15px; font-size: 0.8em; }
            main { padding-top: 70px; }

            .hero-cta-section h1 { font-size: 2.5em; }
            .hero-cta-section p { font-size: 1.2em; }
            .whatsapp-button { font-size: 1.5em; padding: 15px 30px; }
            
            .section h2 { font-size: 2em; }

            .benefit-item { max-width: 48%; margin-bottom: 20px; }
            .benefits-grid { flex-direction: row; justify-content: center; }

            .testimonials .data-point,
            .promotions .promo-item { max-width: 100%; margin-bottom: 20px; }
            .testimonials .testimonial-content { flex-direction: column; align-items: center; }
        }

        @media (max-width: 480px) {
            .fixed-header { flex-direction: column; padding: 10px; }
            .fixed-header .logo { margin-bottom: 10px; }
             .fixed-header .whatsapp-button-small-fixed {
                padding: 8px 12px;
                font-size: 0.75em;
                width: auto;
                max-width: fit-content;
                margin: 0 auto;
            }
            main { padding-top: 100px; }

            .hero-cta-section h1 { font-size: 2em; }
            .hero-cta-section p { font-size: 1em; }
            .whatsapp-button { font-size: 1.2em; padding: 12px 25px; }
            
            .section { padding: 40px 0; }
            .section h2 { font-size: 1.8em; }

            .benefit-item { max-width: 100%; }
            .benefits-grid { flex-direction: column; }

            .testimonials .data-point h3 { font-size: 2.5em; }
            .testimonials .data-point p { font-size: 1em; }
            .promotions .promo-item h3 { font-size: 1.5em; }
        }
    </style>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>

    <script>
        // Configuración de Firebase (misma que en tu gestor)
        const firebaseConfig = {
            apiKey: "AIzaSyDsCYwaKb-TdtYOytNV98A7ZLtlPCkYxRM",
            authDomain: "prueba-3efec.firebaseapp.com",
            projectId: "prueba-3efec",
            storageBucket: "prueba-3efec.appspot.com",
            messagingSenderId: "599043731526",
            appId: "1:599043731526:web:b90607a87c5021fa555a47"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // 🚨🚨🚨 IMPORTANTE: Cambia esto por el ID ÚNICO de esta landing en tu gestor 🚨🚨🚨
        const landingId = '___CAMBIA_ESTO_POR_TU_ID_DE_LANDING___'; // Ejemplo: 'panel-vibras'

        // Función para obtener la fecha de hoy en formato 'YYYY-MM-DD'
        const getTodayDate = () => {
            const d = new Date();
            const options = { timeZone: 'America/Argentina/Buenos_Aires', year: 'numeric', month: '2-digit', day: '2-digit' };
            const dateParts = new Intl.DateTimeFormat('es-AR', options).format(d).split('/');
            return `${dateParts[2]}-${dateParts[1]}-${dateParts[0]}`;
        };
        const fechaHoy = getTodayDate(); // Fecha para las estadísticas

        // Función para registrar una visita (pageview) en Firebase
        async function registrarPageview() {
            try {
                const pageviewRef = db.collection("stats").doc("pageviews").collection(fechaHoy).doc(landingId);
                await pageviewRef.set({ count: firebase.firestore.FieldValue.increment(1) }, { merge: true });
                console.log(`Pageview registrado para landing: ${landingId} en ${fechaHoy}`);
            } catch (e) {
                console.error("Error al registrar pageview:", e);
            }
        }

        // Función para registrar un click en el botón de WhatsApp (en Firebase y Meta Pixel)
        async function registrarClick(event) {
            event.preventDefault(); // Previene la navegación por defecto
            
            try {
                // Registrar clic en Firebase
                const clicksRef = db.collection("stats").doc("clicks").collection(fechaHoy).doc(landingId);
                await clicksRef.set({ count: firebase.firestore.FieldValue.increment(1) }, { merge: true });
                console.log(`Click registrado para landing: ${landingId} en ${fechaHoy}`);

                // Registrar clic en Meta Pixel
                if (typeof fbq === 'function') {
                    fbq('track', 'Contact', {
                        content_name: 'WhatsApp Contact',
                        content_category: 'Botón'
                    });
                    console.log('Meta Pixel: Evento Contact disparado por clic en WhatsApp.');
                }
            } catch (e) {
                console.error("Error al registrar click:", e);
            } finally {
                // Navegamos manualmente después de registrar
                const button = event.currentTarget; // El botón que fue clicado
                if (button && button.href && button.href !== '#') {
                    window.open(button.href, '_blank'); // Abre el enlace en una nueva pestaña
                }
            }
        }

        // Función principal para inicializar la landing
        async function inicializarLanding() {
            // Hacemos que el botón sea visible inmediatamente
            const waButtons = document.querySelectorAll('.whatsapp-cta-button');
            waButtons.forEach(button => {
                button.style.opacity = '1';
                button.style.transform = 'scale(1)';
                // El pointer-events: none; se gestionará al habilitar los botones
            });

            try {
                await registrarPageview(); // Registra pageview al inicio

                const docRef = db.collection('landings').doc(landingId);
                const docSnap = await docRef.get();

                let numeroWhatsapp = "5491100000000"; // Número por defecto
                if (docSnap.exists() && docSnap.data().numeroWhatsapp) {
                    numeroWhatsapp = docSnap.data().numeroWhatsapp;
                } else {
                    console.warn(`Landing con ID: ${landingId} no encontrada o sin número de WhatsApp. Usando número por defecto.`);
                    // Podrías ocultar los botones o mostrar un mensaje si no hay número
                }

                const mensaje = encodeURIComponent("Hola! Me darías más información? Mi nombre es:");
                
                // Actualizar todos los botones y hacerlos clicables
                waButtons.forEach(button => {
                    button.href = `https://wa.me/${numeroWhatsapp}?text=${mensaje}`;
                    button.style.pointerEvents = 'auto'; // Hacemos que sea clicable
                    button.classList.add('is-ready'); // Añade clase para indicar que está listo
                    // Si ya tienen un listener, no añadir duplicado. Se hace en el DOMContentLoaded de abajo.
                });

            } catch (e) {
                console.error("Error al inicializar landing:", e);
                // Si hay un error grave, puedes mostrar un mensaje y ocultar los botones
                const waButtons = document.querySelectorAll('.whatsapp-cta-button');
                waButtons.forEach(button => button.style.display = 'none');
                document.body.innerHTML = "<p style='padding:2rem;text-align:center;color:white;'>Error al cargar la oferta.</p>";
            }
        }

        // Escuchar el evento DOMContentLoaded para iniciar la lógica
        window.addEventListener('DOMContentLoaded', inicializarLanding);

        // ✅ Lógica de Meta Pixel que ya estaba en el archivo original (adaptada)
        // Se asegura de que registrarClick se llama cuando se hace clic en cualquier botón CTA
        document.addEventListener('DOMContentLoaded', function() {
            var whatsappCtaButtons = document.querySelectorAll('.whatsapp-cta-button'); 

            whatsappCtaButtons.forEach(function(button) {
                // Eliminar cualquier listener anterior duplicado si se re-ejecuta
                button.removeEventListener('click', registrarClick); 
                button.addEventListener('click', registrarClick);
            });
        });

    </script>
</head>
<body>

    <div class="fixed-header">
        <div class="logo">OBTÉN TU BONO SIN COMPLICACIONES</div>
        <a href="#" target="_blank" class="whatsapp-button-small-fixed whatsapp-cta-button">
            <i class="fab fa-whatsapp"></i> WhatsApp
        </a>
    </div>

    <main>
        <section class="hero-cta-section">
            <div class="container">
                <h1>PANEL VIBRAS</h1>
                <p>PLATAFORMA VERIFICADA</p>
                <a href="#" target="_blank" class="whatsapp-button whatsapp-cta-button">
                    <i class="fab fa-whatsapp"></i> CONTACTAR POR WHATSAPP
                </a>
            </div>
        </section>

        <section class="section benefits">
            <div class="container">
                <h2>¿POR QUÉ ELEGIRNOS?</h2>
                <div class="benefits-grid">
                    <div class="benefit-item">
                        <i class="fas fa-hand-holding-usd"></i>
                        <h3>Retiros Rápidos</h3>
                        <p>Accede a tus ganancias al instante, sin esperas ni demoras.</p>
                    </div>
                    <div class="benefit-item">
                        <i class="fas fa-headset"></i>
                        <h3>Soporte 24/7</h3>
                        <p>Nuestro equipo está siempre disponible para ayudarte.</p>
                    </div>
                    <div class="benefit-item">
                        <i class="fas fa-shield-alt"></i>
                        <h3>Seguridad Total</h3>
                        <p>No pedimos ninguna información personal.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="section testimonials">
            <div class="container">
                <h2>NUESTROS CLIENTES LO CONFIRMAN</h2>
                <div class="data-point">
                    <h3>+6,500</h3>
                    <p>CLIENTES GANANDO DIARIAMENTE</p>
                </div>
                <div class="data-point">
                    <div class="trustpilot-rating">
                        <span>4.9/5</span>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                        <p>en Trustpilot</p>
                    </div>
                    <p>Calificación Verificada</p>
                </div>
            </div>
        </section>

        <section class="section promotions">
            <div class="container">
                <h2>APROVECHA NUESTRO BONO</h2>
                <div class="promo-item">
                    <h3>BONO ACTIVO EXCLUSIVO</h3>
                    <p>Recibe tu bono especial al contactar a nuestro equipo <b>vía WhatsApp</b>.</p>
                    <a href="#" target="_blank" class="whatsapp-button-small whatsapp-cta-button">
                        <i class="fab fa-whatsapp"></i> Obtener Bono Vía WhatsApp
                    </a>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Plataforma de Panel Vibras. Todos los derechos reservados.</p>
        </div>
    </footer>

</body>
</html>
